<!doctype html>
<html lang="en">
<head>
  <link rel="icon" href="kimsze_sharp16.ico" type="image/x-icon">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Compare and Order Space Hangar</title>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#04050a;
      --bg2:#0a0c16;
      --ink:#e8f0ff;
      --ink2:#b8c7ff;

      --grid:rgba(255, 232, 125, .10);
      --gold:#ffe87d;       /* Star Wars-ish yellow */
      --gold2:#ffbf3a;      /* warmer glow */
      --saber:#00e5ff;      /* lightsaber cyan */
      --saber2:#38bdf8;

      --card:rgba(10, 14, 28, .72);
      --cardLine:rgba(255, 232, 125, .20);

      --shadow: 0 18px 55px rgba(0,0,0,.60);
      --radius:18px;

      --btnBg:rgba(255, 232, 125, .10);
      --btnLine:rgba(255, 232, 125, .55);

      --yellow:#fde047;
      --yellowLine:#f59e0b;

      /* 4th theme (Rebels) */
      --rebel:#a7ff3a;      /* neon green */
      --rebel2:#22c55e;     /* deeper green */
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--ink);
      font-family:Lexend,system-ui,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(900px 600px at 16% 12%, rgba(255,232,125,.18), transparent 55%),
        radial-gradient(900px 600px at 84% 18%, rgba(0,229,255,.10), transparent 55%),
        radial-gradient(900px 600px at 55% 85%, rgba(255,191,58,.08), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      background-attachment: fixed;
      overflow-x:hidden;
    }

    /* subtle “hangar grid” + vignette */
    body::before{
      content:"";
      position:fixed; inset:0;
      background:
        linear-gradient(var(--grid) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid) 1px, transparent 1px);
      background-size: 48px 48px;
      opacity:.28;
      pointer-events:none;
      mix-blend-mode:screen;
      z-index:0;
    }
    body::after{
      content:"";
      position:fixed; inset:-60px;
      background:radial-gradient(closest-side, transparent 55%, rgba(0,0,0,.60));
      pointer-events:none;
      z-index:0;
    }

    /* starfield canvas */
    #stars{
      position:fixed; inset:0;
      z-index:0;
      pointer-events:none;
      opacity:.85;
      display:block;
      filter: blur(.15px);
    }

    header{
      padding:34px 16px 16px;
      text-align:center;
      position:relative;
      z-index:1;
    }
    header h1{
      margin:0 0 10px;
      font-size:clamp(1.55rem, 2.6vw, 2.35rem);
      letter-spacing:.8px;
      color:var(--gold);
      text-shadow: 0 0 18px rgba(255,232,125,.22);
    }
    header p{margin:0;color:rgba(184,199,255,.88)}
    .wrap{max-width:1150px;margin:0 auto;padding:14px 16px 28px; position:relative; z-index:1}

    /* top quick links */
    .jump{
      display:flex; flex-wrap:wrap; gap:10px;
      justify-content:center;
      margin:14px auto 22px;
      padding:10px;
      max-width:1100px;
      background:rgba(4,10,22,.58);
      border:1px solid rgba(255,232,125,.18);
      border-radius:999px;
      box-shadow: 0 18px 50px rgba(0,0,0,.50);
      backdrop-filter: blur(10px);
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      text-decoration:none;
      color:var(--ink);
      font-weight:900;
      font-size:.9rem;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(255,232,125,.22);
      background:rgba(255,232,125,.07);
      transition:transform .1s ease, box-shadow .1s ease, filter .1s ease;
      text-shadow: 0 0 14px rgba(255,232,125,.10);
    }
    .chip:hover{
      transform:translateY(-1px);
      box-shadow:0 18px 28px rgba(0,0,0,.42);
      filter:saturate(1.10);
    }
    .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
    .dot.jedi{background:linear-gradient(135deg, var(--saber), var(--saber2))}
    .dot.sith{background:linear-gradient(135deg, #ff2d2d, #fb7185)}
    .dot.fleet{background:linear-gradient(135deg, var(--gold), var(--gold2))}
    .dot.rebel{background:linear-gradient(135deg, var(--rebel), var(--rebel2))}

    /* Starfield toggle (STARFIELD::TRUE/FALSE) */
    .toggle-terminal{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      letter-spacing:.6px;
      text-transform:uppercase;

      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:2px;

      padding:8px 12px;
      border-radius:12px;

      border:1px solid rgba(255,232,125,.35);
      background:rgba(6, 10, 20, .55);

      color:rgba(232,240,255,.95);
      font-weight:900;
      font-size:.9rem;

      cursor:pointer;
      box-shadow:
        0 14px 26px rgba(0,0,0,.35),
        0 0 0 1px rgba(255,232,125,.12) inset,
        0 0 18px rgba(255,232,125,.12);

      text-shadow:0 0 14px rgba(255,232,125,.12);
      transition:transform .1s ease, box-shadow .1s ease, filter .1s ease, border-color .1s ease;
    }
    .toggle-terminal .label{display:inline-block; min-width:15ch; text-align:left}
    .toggle-terminal:hover{
      transform:translateY(-1px);
      box-shadow:
        0 20px 34px rgba(0,0,0,.48),
        0 0 0 1px rgba(255,232,125,.18) inset,
        0 0 24px rgba(255,232,125,.18);
      filter:saturate(1.10);
    }
    .toggle-terminal:active{transform:translateY(0)}
    .toggle-terminal:focus-visible{outline:3px solid rgba(255,232,125,.45); outline-offset:2px}
    .toggle-terminal.off{
      border-color:rgba(148,163,184,.35);
      background:rgba(6, 10, 20, .40);
      color:rgba(226,232,240,.85);
      text-shadow:none;
      box-shadow:
        0 14px 26px rgba(0,0,0,.35),
        0 0 0 1px rgba(148,163,184,.10) inset;
    }
    .cursor{
      display:inline-block;
      margin-left:2px;
      opacity:1;
      animation: blink 1s steps(2, end) infinite;
    }
    .toggle-terminal.off .cursor{opacity:.4}
    @keyframes blink{ 0%,49%{opacity:1} 50%,100%{opacity:0} }

    .section{margin:22px 0 28px}
    .section-head{
      display:flex; align-items:flex-end; justify-content:space-between; gap:12px;
      padding:14px 14px 12px;
      border-radius:18px;
      border:1px solid rgba(255,232,125,.20);
      background:rgba(6,10,22,.66);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 55px rgba(0,0,0,.50);
      margin-bottom:14px;
    }
    .section-title{
      margin:0;
      font-size:1.15rem;
      display:flex; align-items:center; gap:10px;
      text-shadow: 0 0 16px rgba(255,232,125,.14);
    }
    .section-sub{
      margin:4px 0 0;
      color:rgba(184,199,255,.86);
      font-size:.92rem;
      font-weight:500;
    }
    .section-tag{
      font-size:.8rem;
      font-weight:900;
      color:rgba(184,199,255,.90);
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,232,125,.18);
      background:rgba(255,232,125,.06);
      white-space:nowrap;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(265px,1fr));
      gap:16px;
    }

    .card{
      position:relative;
      background:var(--card);
      border-radius:var(--radius);
      padding:16px;
      border:1px solid var(--cardLine);
      box-shadow:var(--shadow);
      overflow:hidden;
      transition:transform .12s ease, box-shadow .12s ease, filter .12s ease;
      backdrop-filter: blur(10px);
    }
    .card:hover{
      transform:translateY(-2px);
      filter:saturate(1.08);
      box-shadow: 0 26px 75px rgba(0,0,0,.65);
    }

    /* top “lightsaber sweep” bar */
    .card::before{
      content:"";
      position:absolute; inset:0 0 auto 0;
      height:6px;
      background:linear-gradient(135deg, rgba(255,232,125,.95), rgba(0,229,255,.70));
    }
    .card.jedi::before{background:linear-gradient(135deg, rgba(0,229,255,.90), rgba(56,189,248,.70))}
    .card.sith::before{background:linear-gradient(135deg, rgba(255,45,45,.90), rgba(251,113,133,.70))}
    .card.fleet::before{background:linear-gradient(135deg, rgba(255,232,125,.95), rgba(255,191,58,.70))}
    .card.rebel::before{background:linear-gradient(135deg, rgba(167,255,58,.92), rgba(34,197,94,.70))}

    /* faint diagonal “schematics” lines */
    .card::after{
      content:"";
      position:absolute; inset:-120px -80px auto auto;
      width:320px; height:220px;
      transform: rotate(18deg);
      background:
        repeating-linear-gradient(
          0deg,
          rgba(255,232,125,.10),
          rgba(255,232,125,.10) 1px,
          transparent 1px,
          transparent 9px
        );
      opacity:.30;
      pointer-events:none;
      mix-blend-mode:screen;
      border-radius:18px;
    }

    .card h3{
      margin:6px 0 6px;
      font-size:1.03rem;
      letter-spacing:.2px;
    }
    .card p{
      margin:0 0 10px;
      color:rgba(232,240,255,.82);
      font-size:.95rem;
      line-height:1.35;
    }

    .badges{display:flex; gap:6px; flex-wrap:wrap; margin:10px 0 12px}
    .badge{
      font-size:.75rem;
      font-weight:900;
      padding:3px 10px;
      border-radius:999px;
      border:1px solid rgba(255,232,125,.18);
      background:rgba(255,232,125,.06);
      color:rgba(232,240,255,.92);
      text-shadow: 0 0 10px rgba(255,232,125,.10);
    }
    .badge.jedi{border-color:rgba(0,229,255,.30); background:rgba(0,229,255,.10)}
    .badge.sith{border-color:rgba(255,45,45,.30); background:rgba(255,45,45,.10)}
    .badge.fleet{border-color:rgba(255,191,58,.35); background:rgba(255,191,58,.08)}
    .badge.rebel{border-color:rgba(167,255,58,.30); background:rgba(167,255,58,.10)}
    .badge.ready{border-color:rgba(253,224,71,.35); background:rgba(253,224,71,.08); color:#fff7cc}

    .actions{display:flex; gap:10px; flex-wrap:wrap; align-items:center}

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:9px 12px;
      border-radius:14px;
      border:1px solid var(--btnLine);
      text-decoration:none;
      color:var(--ink);
      background:var(--btnBg);
      font-weight:900;
      font-size:.9rem;
      transition:transform .08s ease, box-shadow .08s ease, filter .08s ease;
      box-shadow: 0 14px 26px rgba(0,0,0,.38);
    }
    .btn:hover{transform:translateY(-1px); box-shadow:0 20px 34px rgba(0,0,0,.50); filter:saturate(1.12)}
    .btn:active{transform:translateY(0)}
    .btn.primary{
      color:#0b1020;
      border-color:transparent;
      background:linear-gradient(135deg, rgba(255,232,125,.95), rgba(0,229,255,.55));
      text-shadow:none;
    }

    .pill-sls{
      display:inline-flex; align-items:center; gap:6px;
      font-size:.78rem; font-weight:1000;
      background:var(--yellow);
      border:1px solid var(--yellowLine);
      color:#1f2937;
      padding:7px 10px;
      border-radius:999px;
      text-decoration:none;
      box-shadow:0 18px 30px rgba(245,158,11,.20);
      transition:transform .08s ease, box-shadow .08s ease, filter .08s ease;
    }
    .pill-sls:hover{transform:translateY(-1px); box-shadow:0 24px 34px rgba(245,158,11,.25); filter:saturate(1.05)}
    .pill-sls:active{transform:translateY(0)}
    .pill-sls:focus-visible{outline:3px solid rgba(245,158,11,.55); outline-offset:2px}

    .note{
      margin-top:10px;
      font-size:.86rem;
      color:rgba(184,199,255,.85);
      line-height:1.35;
    }

    footer{
      max-width:1150px;
      margin:30px auto 24px;
      color:rgba(184,199,255,.88);
      font-size:.92rem;
      padding:0 16px;
      text-align:center;
      text-shadow: 0 0 14px rgba(255,232,125,.10);
      position:relative;
      z-index:1;
    }
    footer a{color:inherit}
    footer img{vertical-align:middle;margin-left:10px}

    .anchor{scroll-margin-top:18px}

    @media (prefers-reduced-motion: reduce){
      .btn,.chip,.card,.toggle-terminal{transition:none}
      .cursor{animation:none}
    }
  </style>

  <!-- Google Analytics 4 (keep if you want) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6Z848TQ1P2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-6Z848TQ1P2');
  </script>

  <!-- Counter.dev (keep if you want) -->
  <script src="https://cdn.counter.dev/script.js" data-id="825e93b6-ce99-40ef-8bcc-125f13297433" data-utcoffset="8"></script>
</head>

<body>
  <canvas id="stars" aria-hidden="true"></canvas>

  <header>
    <h1>P1 to P4 Comparing and Ordering Numbers Space Hangar</h1>
    
    <nav class="jump" aria-label="Jump to sections">
      <a class="chip" href="#p1"><span class="dot jedi"></span> P1 • Younglings</a>
      <a class="chip" href="#p2"><span class="dot rebel"></span> P2 • Rebels</a>
      <a class="chip" href="#p3"><span class="dot fleet"></span> P3 • Fleet</a>
      <a class="chip" href="#p4"><span class="dot sith"></span> P4 • Sith Trials</a>

      <!-- Starfield toggle: default ON -->
      <button class="toggle-terminal" id="starsToggle" type="button" aria-pressed="true">
        <span class="label">STARFIELD::TRUE</span><span class="cursor" aria-hidden="true">_</span>
      </button>
    </nav>
  </header>

  <main class="wrap">

    <!-- ===================== P1 (Theme 1) ===================== -->
    <section id="p1" class="section anchor">
      <div class="section-head">
        <div>
          <h2 class="section-title"><span class="dot jedi"></span> P1 • Younglings Bay</h2>
          <p class="section-sub">Starter skills: compare & order with strong visuals.</p>
        </div>
        <div class="section-tag">3 cards</div>
      </div>

      <div class="grid">
        <article class="card jedi">
          <h3>PRIMARY ONE</h3>
          <p>Primary One - Comparing Numbers.</p>
          <div class="badges">
            <span class="badge jedi">Younglings</span><span class="badge">Training</span><span class="badge ready">Ready</span>
          </div>
          <div class="actions">
            <a class="btn primary" href="https://limkimsze-maker.github.io/P1_Compare_Numbers/" target="_blank" rel="noopener">Open</a>
            <a class="btn" href="https://limkimsze-maker.github.io/P1_Compare_Numbers/" target="_blank" rel="noopener">Source</a>
            <a class="pill-sls" href="PASTE_SLS_LESSON_URL_HERE" target="_blank" rel="noopener">Link to SLS lesson</a>
          </div>
          <div class="note">A Great Start to Comparing!.</div>
        </article>

        <article class="card jedi">
          <h3>PRIMARY ONE</h3>
          <p>Primary One - Ordering Numbers.</p>
          <div class="badges">
            <span class="badge jedi">Younglings</span><span class="badge">Focus</span><span class="badge ready">Ready</span>
          </div>
          <div class="actions">
            <a class="btn primary" href="https://limkimsze-maker.github.io/P1_Ordering_Numbers/" target="_blank" rel="noopener">Open</a>
            <a class="btn" href="https://limkimsze-maker.github.io/P1_Ordering_Numbers/" target="_blank" rel="noopener">Source</a>
            <a class="pill-sls" href="PASTE_SLS_LESSON_URL_HERE" target="_blank" rel="noopener">Link to SLS lesson</a>
          </div>
          <div class="note">Fun Way to Learn Ordering!.</div>
        </article>

        <article class="card jedi">
          <h3>PRIMARY ONE</h3>
          <p>Primary One - More than or Fewer than.</p>
          <div class="badges">
            <span class="badge jedi">Younglings</span><span class="badge">Accuracy</span><span class="badge ready">Ready</span>
          </div>
          <div class="actions">
            <a class="btn primary" href="https://limkimsze-maker.github.io/P1_How_Many_More_or_How_Many_Fewer/" target="_blank" rel="noopener">Open</a>
            <a class="btn" href="https://limkimsze-maker.github.io/P1_How_Many_More_or_How_Many_Fewer/" target="_blank" rel="noopener">Source</a>
            <a class="pill-sls" href="PASTE_SLS_LESSON_URL_HERE" target="_blank" rel="noopener">Link to SLS lesson</a>
          </div>
          <div class="note">Great for Free Time!</div>
        </article>
      </div>
    </section>

    <!-- ===================== P2 (Theme 2) ===================== -->
    <section id="p2" class="section anchor">
      <div class="section-head">
        <div>
          <h2 class="section-title"><span class="dot rebel"></span> P2 • Rebel Workshop</h2>
          <p class="section-sub">Build confidence: more practice, sharper place value sense.</p>
        </div>
        <div class="section-tag">2 cards</div>
      </div>

      <div class="grid">
        <article class="card rebel">
          <h3>PRIMARY TWO</h3>
          <p>Primary Two - Comparing Numbers.</p>
          <div class="badges">
            <span class="badge rebel">Rebels</span><span class="badge">Mixed</span><span class="badge ready">Ready</span>
          </div>
          <div class="actions">
            <a class="btn primary" href="https://limkimsze-maker.github.io/P2_Compare_Numbers/" target="_blank" rel="noopener">Open</a>
            <a class="btn" href="https://limkimsze-maker.github.io/P2_Compare_Numbers/" target="_blank" rel="noopener">Source</a>
            <a class="pill-sls" href="PASTE_SLS_LESSON_URL_HERE" target="_blank" rel="noopener">Link to SLS lesson</a>
          </div>
          <div class="note">More Digits, More Fun!</div>
        </article>

        <article class="card rebel">
          <h3>PRIMARY TWO</h3>
          <p>Primary Two - Ordering Numbers.</p>
          <div class="badges">
            <span class="badge rebel">Rebels</span><span class="badge">Mastery</span><span class="badge ready">Ready</span>
          </div>
          <div class="actions">
            <a class="btn primary" href="https://limkimsze-maker.github.io/P2_Order_Numbers/" target="_blank" rel="noopener">Open</a>
            <a class="btn" href="https://limkimsze-maker.github.io/P2_Order_Numbers/" target="_blank" rel="noopener">Source</a>
            <a class="pill-sls" href="PASTE_SLS_LESSON_URL_HERE" target="_blank" rel="noopener">Link to SLS lesson</a>
          </div>
          <div class="note">To stretch your strongest jedi masters!</div>
        </article>
      </div>
    </section>

    <!-- ===================== P3 (Theme 3) ===================== -->
    <section id="p3" class="section anchor">
      <div class="section-head">
        <div>
          <h2 class="section-title"><span class="dot fleet"></span> P3 • Fleet Command</h2>
          <p class="section-sub">Bigger numbers, tighter precision, faster reasoning.</p>
        </div>
        <div class="section-tag">2 cards</div>
      </div>

      <div class="grid">
        <article class="card fleet">
          <h3>PRIMARY THREE</h3>
          <p>Primary Three - Comparing Numbers.</p>
          <div class="badges">
            <span class="badge fleet">Fleet</span><span class="badge">Mixed</span><span class="badge ready">Ready</span>
          </div>
          <div class="actions">
            <a class="btn primary" href="https://limkimsze-maker.github.io/P3_Compare_Numbers/" target="_blank" rel="noopener">Open</a>
            <a class="btn" href="https://limkimsze-maker.github.io/P3_Compare_Numbers/" target="_blank" rel="noopener">Source</a>
            <a class="pill-sls" href="PASTE_SLS_LESSON_URL_HERE" target="_blank" rel="noopener">Link to SLS lesson</a>
          </div>
          <div class="note">4 digits is the way to go!</div>
        </article>

        <article class="card fleet">
          <h3>PRIMARY THREE</h3>
          <p>Primary Three - Ordering Numbers.</p>
          <div class="badges">
            <span class="badge fleet">Fleet</span><span class="badge">Mastery</span><span class="badge ready">Ready</span>
          </div>
          <div class="actions">
            <a class="btn primary" href="https://limkimsze-maker.github.io/P3_Order_Numbers/" target="_blank" rel="noopener">Open</a>
            <a class="btn" href="https://limkimsze-maker.github.io/P3_Order_Numbers/" target="_blank" rel="noopener">Source</a>
            <a class="pill-sls" href="PASTE_SLS_LESSON_URL_HERE" target="_blank" rel="noopener">Link to SLS lesson</a>
          </div>
          <div class="note">Playing is Learning! Learning is Playing!</div>
        </article>
      </div>
    </section>

    <!-- ===================== P4 (Theme 4) ===================== -->
    <section id="p4" class="section anchor">
      <div class="section-head">
        <div>
          <h2 class="section-title"><span class="dot sith"></span> P4 • Sith Trials</h2>
          <p class="section-sub">High challenge: deeper thinking, stronger mastery.</p>
        </div>
        <div class="section-tag">2 cards</div>
      </div>

      <div class="grid">
        <article class="card sith">
          <h3>PRIMARY FOUR</h3>
          <p>Primary Four - Comparing Numbers.</p>
          <div class="badges">
            <span class="badge sith">Sith</span><span class="badge">Mixed</span><span class="badge ready">Ready</span>
          </div>
          <div class="actions">
            <a class="btn primary" href="https://limkimsze-maker.github.io/P4_Compare_Numbers/" target="_blank" rel="noopener">Open</a>
            <a class="btn" href="https://limkimsze-maker.github.io/P4_Compare_Numbers/" target="_blank" rel="noopener">Source</a>
            <a class="pill-sls" href="PASTE_SLS_LESSON_URL_HERE" target="_blank" rel="noopener">Link to SLS lesson</a>
          </div>
          <div class="note">5 digits, no issue!</div>
        </article>

        <article class="card sith">
          <h3>PRIMARY FOUR</h3>
          <p>Primary Four - Ordering Numbers.</p>
          <div class="badges">
            <span class="badge sith">Sith</span><span class="badge">Mastery</span><span class="badge ready">Ready</span>
          </div>
          <div class="actions">
            <a class="btn primary" href="https://limkimsze-maker.github.io/P4_Order_Numbers/" target="_blank" rel="noopener">Open</a>
            <a class="btn" href="https://limkimsze-maker.github.io/P4_Order_Numbers/" target="_blank" rel="noopener">Source</a>
            <a class="pill-sls" href="PASTE_SLS_LESSON_URL_HERE" target="_blank" rel="noopener">Link to SLS lesson</a>
          </div>
          <div class="note">See. Understand. Learn. </div>
        </article>
      </div>
    </section>

  </main>

  <footer>
    Designed by Lim Kim Sze © 2026 • Star Wars inspired theme (fan-style) • Gallery is SLS-embed friendly.
    <a href="https://hits.sh/limkimsze-maker.github.io/">
      <img alt="Hits" src="https://hits.sh/limkimsze-maker.github.io.svg?style=for-the-badge&label=Views&color=007ec6" />
    </a>
  </footer>

  <script>
    // Starfield with toggle (default ON, remembers choice)
    (function(){
      const c = document.getElementById('stars');
      const btn = document.getElementById('starsToggle');
      if (!c || !btn) return;

      const labelEl = btn.querySelector('.label');
      const ctx = c.getContext('2d', { alpha:true });

      let w=0, h=0, dpr=1;
      let rafId = 0;
      let running = false;

      const stars = [];
      const streaks = [];

      function rand(a,b){ return a + Math.random()*(b-a); }

      function makeStars(){
        stars.length = 0;
        const count = Math.max(160, Math.floor((w*h) / 12000));
        for (let i=0;i<count;i++){
          stars.push({
            x: Math.random()*w,
            y: Math.random()*h,
            r: rand(0.6, 1.8),
            a: rand(0.15, 0.95),
            tw: rand(0.002, 0.010),
            sp: rand(0.05, 0.35)
          });
        }
      }

      function makeStreak(){
        if (Math.random() < 0.04){
          streaks.push({
            x: rand(0,w),
            y: rand(0,h*0.65),
            len: rand(120, 380),
            w: rand(1, 2.2),
            a: rand(0.12, 0.25),
            vx: rand(6, 11),
            vy: rand(1.2, 3.2)
          });
          if (streaks.length > 10) streaks.shift();
        }
      }

      function resize(){
        dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        w = Math.floor(window.innerWidth);
        h = Math.floor(window.innerHeight);
        c.width = Math.floor(w * dpr);
        c.height = Math.floor(h * dpr);
        c.style.width = w + "px";
        c.style.height = h + "px";
        ctx.setTransform(dpr,0,0,dpr,0,0);
        makeStars();
      }

      function clearCanvas(){ ctx.clearRect(0,0,w,h); }

      let last=0;
      function frame(t){
        if (!running) return;
        if (t - last < 22) { rafId = requestAnimationFrame(frame); return; }
        last = t;

        ctx.fillStyle = "rgba(4, 5, 10, 0.18)";
        ctx.fillRect(0,0,w,h);

        for (const s of stars){
          s.y += s.sp;
          if (s.y > h + 10){ s.y = -10; s.x = Math.random()*w; }
          s.a += (Math.random() - 0.5) * s.tw;
          if (s.a < 0.10) s.a = 0.10;
          if (s.a > 0.98) s.a = 0.98;

          const glow = (Math.random() < 0.06);
          ctx.beginPath();
          ctx.fillStyle = glow ? `rgba(255,232,125,${Math.min(0.55, s.a)})` : `rgba(232,240,255,${s.a})`;
          ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
          ctx.fill();
        }

        makeStreak();
        for (let i=streaks.length-1;i>=0;i--){
          const st = streaks[i];
          st.x += st.vx; st.y += st.vy;
          st.a *= 0.985;
          ctx.lineWidth = st.w;
          ctx.strokeStyle = `rgba(0,229,255,${st.a})`;
          ctx.beginPath();
          ctx.moveTo(st.x, st.y);
          ctx.lineTo(st.x - st.len, st.y - st.len*0.12);
          ctx.stroke();
          if (st.a < 0.02 || st.x - st.len > w + 40 || st.y > h + 40) streaks.splice(i,1);
        }

        rafId = requestAnimationFrame(frame);
      }

      function setButtonState(on){
        btn.classList.toggle('off', !on);
        btn.setAttribute('aria-pressed', String(on));
        if (labelEl) labelEl.textContent = on ? 'STARFIELD::TRUE' : 'STARFIELD::FALSE';
      }

      function start(){
        if (running) return;
        c.style.display = "block";
        resize();
        running = true;
        rafId = requestAnimationFrame(frame);
      }

      function stop(){
        running = false;
        if (rafId) cancelAnimationFrame(rafId);
        rafId = 0;
        c.style.display = "none";
        clearCanvas();
      }

      function setEnabled(on){
        localStorage.setItem('starfieldEnabled', on ? '1' : '0');
        if (on) start(); else stop();
        setButtonState(on);
      }

      const saved = localStorage.getItem('starfieldEnabled');
      const enabled = (saved === null) ? true : (saved === '1');

      btn.addEventListener('click', () => setEnabled(!running));
      window.addEventListener('resize', () => { if (running) resize(); }, {passive:true});

      setButtonState(enabled);
      if (enabled) start(); else stop();
    })();
  </script>
</body>
</html>




